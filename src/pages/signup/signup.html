<ion-header>

  <ion-navbar>
      <button ion-button menuToggle>
          <ion-icon name="menu"></ion-icon>
      </button>
    <ion-title>{{'signup.TitleNavBar' | translate}}</ion-title>
  </ion-navbar>

</ion-header>

<ion-content class="cover">
    <div class="overlay"></div>
    <div class="over">

    <form [formGroup]="userForm">
      <ion-list>
        <ion-list-header color="primary">
            <span id="signupTitle">{{'signup.Title' | translate}}</span>
        </ion-list-header>
        <ion-item >
          <ion-label stacked>{{ 'signup.login' | translate }}</ion-label>
          <ion-input type="text" formControlName="login" id="login" autocomplete="login" clearInput></ion-input>
        </ion-item>
        <p *ngIf="!isValid('login')" danger padding-left>{{ 'signup.error.login' | translate }}</p>

        <ion-item >
          <ion-label stacked>{{ 'signup.email' | translate }}</ion-label>
          <ion-input type="text" formControlName="email" id="email" autocomplete="email" clearInput></ion-input>
        </ion-item>
        <p *ngIf="!isValid('email')" danger padding-left>{{ 'signup.error.email' | translate }}</p>

        <ion-item class='form-group' padding>
          <ion-label stacked>{{ 'signup.password' | translate }}</ion-label>
          <ion-input type="password" formControlName="password" id="password" clearInput></ion-input>
          <p *ngIf="userForm.controls.password.touched && !userForm.controls.password.valid" danger padding-left>Invalid label</p>
        </ion-item>

        <ion-item >
          <ion-label stacked>{{ 'signup.confirmPassword' | translate }}</ion-label>
          <ion-input type="password" id="confirmPassword" formControlName="confirmPassword" required show-password></ion-input>
        </ion-item>
        <p *ngIf="userForm.controls.confirmPassword.touched && userForm.hasError('mismatchedPasswords') && userForm.controls.password.valid"
          danger padding-left>{{ 'signup.error.confirmPassword' | translate }}</p>

        <ion-item >
          <div id="cgu">
            {{ 'signup.cgu' | translate }}<br>
            <a href="https://qaobee.com/#/blog/246">les Conditions d’utilisation générale</a>,<br> 
            <a href="https://qaobee.com/#/blog/246">la Politique de confidentialité</a>,<br>
            <a href="https://qaobee.com/#/blog/246">la Politique relative aux cookies de Qaobee</a>
          </div>
        </ion-item>
        <ion-row>
          <ion-col>
            <button id="cancelButton" ion-button medium (tap)="cancel()">
              {{ 'signup.cancel' | translate  }}
            </button>
          </ion-col>
          <ion-col>
            <button id="subscribeButton" ion-button icon-left medium (tap)="createAccount(userForm.value)" [disabled]="!userForm.valid" type="submit" color="secondary">
              {{ 'signup.valid' | translate  }}
            </button>
          </ion-col>
        </ion-row>
      </ion-list>
    </form>
  </div>

</ion-content>