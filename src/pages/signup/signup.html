<ion-header>
  <ion-navbar>
    <ion-title>{{'signup.TitleNavBar' | translate}}</ion-title>
    <ion-buttons end>
      <button ion-button menuToggle>
        <ion-icon name="menu"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <form [formGroup]="userForm">
    <ion-item color="light">
      <h4>
        {{'signup.Title' | translate}}
      </h4>
    </ion-item>

    <ion-item>
        <ion-label floating>{{ 'signup.login' | translate }}</ion-label>
        <ion-input type="text" formControlName="login" id="login" autocomplete="login" clearInput></ion-input>
      </ion-item>
      <ion-item class='form-text error' *ngIf="!isValid('login')">
        <ion-label no-margin stacked>{{ 'signup.error.login' | translate }}</ion-label>
      </ion-item>

    <ion-item>
      <ion-label floating>{{ 'signup.email' | translate }}</ion-label>
      <ion-input type="text" formControlName="email" id="email" autocomplete="email" clearInput></ion-input>
    </ion-item>
    <ion-item class='form-text error' *ngIf="!isValid('email')">
      <ion-label no-margin stacked>{{ 'signup.error.email' | translate }}</ion-label>
    </ion-item>

    <ion-item class='form-group'>
      <ion-label floating>{{ 'signup.password' | translate }}</ion-label>
      <ion-input type="password" formControlName="password" id="password" clearInput></ion-input>
      <p *ngIf="userForm.controls.password.touched && !userForm.controls.password.valid" danger padding-left>Invalid label</p>
    </ion-item>

    <ion-item>
      <ion-label floating>{{ 'signup.confirmPassword' | translate }}</ion-label>
      <ion-input type="password" [(ngModel)]="confirmPassword" formControlName="confirmPassword" required show-password></ion-input>
    </ion-item>
    <ion-item class='form-text error' *ngIf="userForm.controls.confirmPassword.touched && userForm.hasError('mismatchedPasswords') && userForm.controls.password.valid">
      <ion-label no-margin stacked>{{ 'signup.error.confirmPassword' | translate }}</ion-label>
    </ion-item>

  </form>


  <button id="cancelButton" ion-button icon-left medium (tap)="cancel()">
    {{ 'signup.cancel' | translate  }}
  </button>
  <button id="subscribeButton" ion-button icon-left medium (tap)="createAccount(userForm.value)" type="submit">
    {{ 'signup.valid' | translate  }}
  </button>

</ion-content>